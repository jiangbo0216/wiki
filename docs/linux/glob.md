# [globs简明指南](https://juejin.cn/post/6922731837265543181?utm_source=gold_browser_extension)

### 什么是Globs？

Globs，也即 *glob patterns*是可以将通配符模式扩展为**匹配给定模式的路径名列表**的模式(**通常用来匹配目录以及文件，而不是文本**!)。

在Linux的早期版本中，命令解释器依赖于一个程序，该程序将这些字符扩展为无引号参数命令:/etc/ globs。

这个命令后来作为一个库函数提供，现在很多程序都在使用这个函数，包括shell。几种不同的工具和语言已经采用了globs，并对其进行了一些微调。这是相当广泛的清单：

- Node.js
- Go
- Java
- Haskell
- Python
- Ruby
- PHP

现在我们已经对globs的历史有了一些了解，让我们进入使它变得有用的部分：通配符匹配。

### 通配符匹配

如果字符串包含以下字符之一：*、?或[，则可以认为是通配符模式。

#### 星号（*）

最常见的通配符是星号。该字符用于多种方式，但主要用于匹配任意数量的字符(如字符串的部分)。

星号的三个主要用例是：

- `*` -在Linux上，将匹配除斜杠以外的所有内容。在Windows上，它将避免匹配反斜杠和斜杠。
- `**` -递归匹配当前目录下的0个或多个目录。
- `*(pattern_list)` -只匹配上面的模式列表中包含的0或1个模式。

这些用例也可以相互结合使用。例如，要递归地查找所有以.md结尾的Markdown文件，模式应该是`**/*.md`

> 注：*.md只会返回当前目录下的文件路径，这就是为什么我们在开头附加了**/。

#### 问号（?）

问号通配符通常用于匹配任何单个字符。例如，给我们一个文件列表：

- Cat.png
- Bat.png
- Rat.png
- car.png
- list.png
- mom.jpg
- cat.jpg

如果你想找到文件夹中包含`_at`的所有文件，你可以方便地使用像`?at`这样的模式，它会返回以下结果：

- Cat.png
- Bat.png
- Rat.png
- cat.jpg

> 注意:这个模式很酷的一点是它不关心字母大小写的情况。我发现这在脚本中很有用，当试图查找我标记了特定日期的文件时。

#### 字符类和范围([)

##### 字符类

方括号([])可以用来表示一个模式，该模式应该匹配方括号内的单个字符。这些被称为字符类。

需要知道的重要一点是，括号内的字符串不允许为空。

这可能导致对像这样的奇怪模式的误解:[][!]

这将匹配具有“[”、“]”和“!”的字符串中的前三个字符。

例如，让我们继续使用前面例子中使用的列表：

- Cat.png
- Bat.png
- Rat.png
- car.png
- list.png
- mom.jpg
- cat.jpg

如果希望只匹配列表中的标题为首字母大写的文件，则可以使用[CBR]。

这会返回如下结果：

- Cat.png
- Bat.png
- Rat.png

##### 范围

globs的一个很酷的特性是区间，它由两个字符表示，中间用破折号'-'隔开。

例如，模式[A-E]将匹配任何包含ABCDE的起始字符。范围可以相互结合使用，形成强大的模式。

你以前可能见过的一个常见模式是匹配字母数字字符串的模式:[A- za -z0-9]

这将匹配以下内容：

- `[A-Z]` -从A到Z的全部大写字母
- `[a-z]` -从a到z的所有小写字母
- `[0-9]` -从0到9的所有数字

这可以用于表单选项的表单验证，因为范围也可以在正则表达式中使用!

#### 补充符(Complementation)

值得一提的是，globs可以在补充符中使用特殊字符，这些特殊字符可以改变模式的工作方式。我看到的两个补充符是感叹号(`!`)和反斜杠(`\`)。

感叹号可以否定它放在前面的模式。在上面我分享的字符类示例中，我们使用了模式`[CBR]at`。

如果我们想显式地过滤我们想要的结果，我们可以通过在类[!CBR]的前面放置感叹号来否定模式。

反斜杠用于转义单个字符'?'， '*'，和'['，这样它们就可以用于模式中。

#### 为什么globs是有用的?

最近几个月，我发现globs对于执行许多脚本和自动化任务非常有用。能够在目录树中递归地指定某些文件是非常棒的——特别是在无法控制根目录名称的CI环境中工作时。

我想要注意的重要一点是，尽管通配符模式与正则表达式模式相似，但它们并不显式相同，主要有两个原因：

1. Globs是用来匹配文件名而不是文本的
2. 并不是所有的约定都是一样的（例如：`*`表示在正则表达式中相同事物的零个或多个副本）

原文：[看这里](https://www.malikbrowne.com/blog/a-beginners-guide-glob-patterns)