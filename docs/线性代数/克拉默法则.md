# 克拉默法则

## 入门例子

问题：求解如下线性方程组

$$
\begin{cases} x_1+2x_2+ x_3 &=3 \\ -2x_1+x_2-x_3 &=-3  \\ x_1-4x_2+2x_3 &=-5 \end{cases}
$$

矩阵形式表示：

$$
\begin{bmatrix} 1 & 2 &  1\\  -2 & 1 & -1\\  1 & -4 & 2 \end{bmatrix} \begin{bmatrix} x_1\\  x_2\\  x_3 \end{bmatrix} = \begin{bmatrix} 3\\  -3\\  -5 \end{bmatrix}
$$

等号左边的矩阵称为**系数矩阵**，等号右边的式子称为**常数向量**。

系数矩阵的行列式 $D$ ：

$$
\begin{vmatrix} 1 & 2 &  1\\  -2 & 1 & -1\\  1 & -4 & 2 \end{vmatrix} =11
$$

将常数向量替换系数矩阵的第1列，得到行列式 $D_1$ ：

$$
\begin{vmatrix} 3 & 2 &  1\\  -3 & 1 & -1\\  5 & -4 & 2 \end{vmatrix} =33
$$

将常数向量替换系数矩阵的第2列，得到行列式 $D_2$ ：

$$
\begin{vmatrix} 1 & 3 &  1\\  -2 & -3 & -1\\  1 & -5 & 2 \end{vmatrix} =11
$$

将常数向量替换系数矩阵的第3列，得到行列式 $D_3$ ：

$$
\begin{vmatrix} 1 & 2 &  3\\  -2 & 1 & -3\\  1 & -4 & -5 \end{vmatrix} =-22
$$

将这三个行列式的值分别除以系数矩阵行列式 $D$ 的值，就可以得到原方程的解：

$$
x_1=\frac{D_1}{D}=\frac{33}{11}=3, x_2=\frac{D_2}{D}=\frac{11}{11}=1, x_3=\frac{D_1}{D}=\frac{-22}{11}=-2
$$

---

## 形式化表示

线性方程组可用矩阵表示为：

$$
Ax=c
$$

其中，系数矩阵 $A$ 是一个 $n \times n$ 的方阵，$x=(x_1,x_2,...,x_n)^T$ 是一个长度为 $n$ 的列向量， $c=(c_1,c_2,...,c_n)^T$ 也是一个长度为 $n$ 的列向量。

根据克拉默法则，方程的解为：

$$
x_i=\frac{D_i}{D}, i=1,2,...,n
$$

其中， $D_i$ 是用 $c$ 替换了 $A$ 的第 $i$ 列得到的矩阵的行列式， $D$ 则是 $A$ 的行列式。可以看到，当 $D$ 等于0时，原方程无解。

---

## 证明

可以看到，使用克拉默法则求解线性方程组的步骤非常简单，但我们肯定不能止于会用，为什么这个方法可行？

将线性方程组 $Ax=c$ 两边同时左乘 $A$ 的逆，得到 $A^{-1}Ax=A^{-1}c$ ，即：

$x=A^{-1}c$ 。

我们将系数矩阵表示成列向量的形式，即：

$$
A=(p_1,p_2,...,p_n)
$$

因此原方程又可以写成：

$$
\sum_{k=1}^{n}x_kp_k=c
$$

则行列式 $D_i$ 的值可以表示为：

$$
\begin{align*} D_i & = det(p_1,...,p_{i-1},c,p_{i+1}...,p_n)  \quad  & (1)\\       & = det(p_1,...,p_{i-1},\sum_{k=1}^{n}x_kp_k,p_{i+1}...,p_n)  & (2) \\      & = \sum_{k=1}^{n}x_kdet(p_1,...,p_{i-1},p_k,p_{i+1}...,p_n)  & (3) \\     & = x_1det(p_1,...,p_{i-1},p_1,p_{i+1}...,p_n) + x_2det(p_1,...,p_{i-1},p_2,p_{i+1}...,p_n)+...+x_ndet(p_1,...,p_{i-1},p_n,p_{i+1}...,p_n) & (4) \\     & = x_i \cdot det(A) & (5)\\     & = x_i \cdot D \end{align*}
$$

所以 $x_i=\frac{D_i}{D}$ 。

其中，\(2\)->\(3\)是根据行列式的性质将公因子提取到前面，\(4\)->\(5\)是根据行列式的性质知道求和符号展开后只有第 $i$ 项的值不等于0。
